<!doctype html>
<html  lang="en">

<head>
	 
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1.0, user-scalable=0">
<script src="js/TweenMax.js"></script>
<script src="js/TweenLite.js"></script>
<script src="js/Draggable.js"></script>
<script src="js/ThrowPropsPlugin.min.js"></script>
<script src="js/Two.js"></script>
<script type="application/javascript" src="js/breaker.js"></script>
<link rel="stylesheet" href="css/screen.css">
<link rel="stylesheet" href="css/arrow.css">

</head>
<body style="-webkit-user-select: none;">




<svg width="210" height="345" style="position:absolute;left:77px;z-index:102;">
  <path class="path" d="M20,257 a90,90 0 0 0 90,86 a91,91 0 0 0 91,-86 h-75 a10,10 0 0 1 -10,10 v5 h16  a7,7 0 0 1 7,7 v14 a7,7 0 0 1 -7,7 h-43 a7,7 0 0 1 -7,-7 v-14 a7,-7 0 0 1 7,-7 h16 v-5 a10,10 0 0 1 -10,-10 h-77 z" fill="none" stroke="red" stroke-width="4" />
</svg>  
  <svg width="375" height="150" style="position:absolute;left:0px;z-index:5;">
   <path class="path" d="M42,119 a203,203 0 0 1 291,0 a20,20 0 0 0 -20,-5 a20,20 0 0 1 20,5 a20,20 0 0 1 -5,-20
   M42,119 a20,20 0 0 0 5,-20
   M42,119 a20,20 0 0 1 20,-5" fill="none" stroke="red" stroke-width="4" />
  
</svg>

<style>
.path {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: dash 5s linear forwards;
}

@keyframes dash {
  from {
    stroke-dashoffset: 1000;
  }
  to {
    stroke-dashoffset: 0;
  }
}
</style>



<script>

function dectoggle() {

    var a = document.getElementById("breaky");
    var b = document.getElementById("breakylabel");
    if (a.disabled === true) {
        a.style.opacity = "1";
        b.style.opacity = "1";
        a.disabled = false;
        b.disabled = false;
    } else {
        a.style.opacity = "0.2";
        b.style.opacity = "0.2";
        a.disabled = true;
        b.disabled = true;
    }
   
}


function decoff() {

    var a = document.getElementById("breaky");
    var b = document.getElementById("breakylabel");
   var xi = document.getElementById("dec");
 
   
  if (xi.disabled == false){
   
        a.style.opacity = "0.2";
        b.style.opacity = "0.2";
        a.disabled = true;
        b.disabled = true;}
    
  

}


function decon() {

    var a = document.getElementById("breaky");
    var b = document.getElementById("breakylabel");
   
        a.style.opacity = "1";
        b.style.opacity = "1";
        a.disabled = false;
        b.disabled = false;
    
   
}

function breakon() {

    var x = document.getElementById("dec");
    var y = document.getElementById("declabel");
   
        x.style.opacity = "1";
        y.style.opacity = "1";
        x.disabled = false;
        y.disabled = false;
    Draggable.get("#yourID").enable();
    document.getElementById("text").disabled = false;
   
}
</script>


<script>

function breaktoggle() {
    var checkshift = document.getElementById("shift").innerHTML;
    var x = document.getElementById("dec");
    var y = document.getElementById("declabel");
    if (checkshift > 0) {document.getElementById("breakylabel").innerHTML = "Reset";} else
    if (checkshift == 0 && x.disabled == true){breakon();
    document.getElementById("breakylabel").innerHTML = "Crack";
    document.getElementById("text").value = "This is a sample of plaintext";
    }
   
    if (checkshift > 0 && document.getElementById("breakylabel").innerHTML == "Reset"){
    Draggable.get("#yourID").disable();
    document.getElementById("text").disabled = true;
   
   
    if (x.disabled === true) {
        x.disabled = false;
        y.disabled = false;
        x.style.opacity = "1";
        y.style.opacity = "1";
    } else {
        x.disabled = true;
        y.disabled = true;
        x.style.opacity = "0.2";
        y.style.opacity = "0.2";
    }
   }
}
</script>



<script>
  var portrait = window.innerWidth < window.innerHeight;
  var PleaseRotateOptions = {
      onlyMobile: false,
      forcePortrait: true,
      subMessage: "",
      allowClickBypass: true,
      zIndex: 1000,
  }
</script>

<script src="js/pleaserotate.js"></script>

<div id="circle" style= "background-image: url(img/disc.jpg); z-index:100;"></div>

<script>
function lpad(value, padding) {
    var zeroes = new Array(padding+1).join("0");
    return (zeroes + value).slice(-padding);
}
</script>

<style>
#circle {
    width: 70.9333333%;
    height: 47.5%;
    background-image: url(img/disc.jpg);
    background-position: center;
   background-size: 135% 135%;
   border: 1px solid #101010;
   position:absolute; left:14.10%; top:21.15%;
    -moz-border-radius: 0px;
    -webkit-border-radius: 50%;
    border-radius: 50%;
    -webkit-transform: rotate(41.7deg);
}
</style>

<img id="yourID" src= "img/disc.jpg" width="96%" height="64.3%" style="position:absolute; top:13%; left:1.86666%; -webkit-user-select: none; z-index:6;
    -moz-border-radius: 0px;
    -webkit-border-radius: 50%;
    border-radius: 50%;" ontouchstart ="decoff();" ontouchend ="should_i_go_now_getrot();">

<script>
document.addEventListener(
'touchmove',
function(e) {
e.preventDefault();
},
false
);
</script>

<script>
//create Draggable
Draggable.create("#yourID", {type:"rotation", throwProps:true, //bounds:{minRotation:0, maxRotation:0},
Snap:true,

snap:function(endValue) { return Math.round( endValue / 13.8461538 ) * 13.8461538; },
}
);

//get the Draggable instance (you could also combine this with the line above like var yourDraggable = Draggable.create(...)[0]
var yourDraggable = Draggable.get("#yourID");

//set the rotation to whatever you want.
//TweenLite.set("#yourID", {rotation:0});

//tell the Draggable to calibrate/synchronize/read the current value
yourDraggable.update();
</script>

<script>
var encrypt = function(ciphertext, shiftAmount) {
shiftAmount = shiftAmount - (shiftAmount*2);
    var plaintext = "";
    for(var i = 0; i < ciphertext.length; i++) {
        var cipherCharacter = ciphertext.charCodeAt(i);
        if(cipherCharacter >= 97 && cipherCharacter <= 122) {
            plaintext += String.fromCharCode((cipherCharacter - 97 - shiftAmount + 26) % 26 + 97);
        } else if(cipherCharacter >= 65 && cipherCharacter <= 90) {
            plaintext += String.fromCharCode((cipherCharacter - 65 - shiftAmount + 26) % 26 + 65);
        } else {
            plaintext += String.fromCharCode(cipherCharacter);
        }
    }
    return plaintext;
}

var decrypt = function(ciphertext, shiftAmount) {

    var plaintext = "";
    for(var i = 0; i < ciphertext.length; i++) {
        var cipherCharacter = ciphertext.charCodeAt(i);
        if(cipherCharacter >= 97 && cipherCharacter <= 122) {
            plaintext += String.fromCharCode((cipherCharacter - 97 - shiftAmount + 26) % 26 + 97);
        } else if(cipherCharacter >= 65 && cipherCharacter <= 90) {
            plaintext += String.fromCharCode((cipherCharacter - 65 - shiftAmount + 26) % 26 + 65);
        } else {
            plaintext += String.fromCharCode(cipherCharacter);
        }
    }
    return plaintext;
}
</script>

<script>
function decode(){
var shifty = "";
var ggg = "";
var ftt = "";



var shifty = document.getElementById("shift").innerHTML;
var ggg = document.getElementById("text").value;

var ftt = decrypt(ggg, shifty);
document.getElementById("text").value = ftt;
}
</script>

<script>
function decode2(){
var shifty = "";
var ggg = "";
var ftt = "";



var shifty = document.getElementById("shift").innerHTML;
var ggg = document.getElementById("text").value;

var ftt = decrypt(ggg, shifty);
document.getElementById("text").value = ftt;
}
</script>

<script>
function getrot(){
var drag = Draggable.get(yourID);

//update the Draggable instance
drag.update();
var testy = drag.rotation;
while (testy > 360) {
if (testy > 360) {
testy = testy - 360}}
while (testy < 0) {
if (testy < 0) {
testy = testy + 360} }



var rounded = Math.round(testy);
var digits = lpad(rounded, 3);
document.getElementById("myText").innerHTML = digits + "&#176;"

if (rounded < 07) {

document.getElementById("shift").innerHTML = "00";

} else
if (rounded > 07 && rounded < 21) {
document.getElementById("shift").innerHTML = "01";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 1);
document.getElementById("text").value = ftt;

} else
if (rounded > 21 && rounded < 35) {
document.getElementById("shift").innerHTML = "02";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 2);
document.getElementById("text").value = ftt;

} else
if (rounded > 35 && rounded < 49) {
document.getElementById("shift").innerHTML = "03";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 3);
document.getElementById("text").value = ftt;

} else
if (rounded > 49 && rounded < 63) {
document.getElementById("shift").innerHTML = "04";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 4);
document.getElementById("text").value = ftt;

} else
if (rounded > 63 && rounded < 77) {
document.getElementById("shift").innerHTML = "05";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 5);
document.getElementById("text").value = ftt;

} else
if (rounded > 77 && rounded < 91) {
document.getElementById("shift").innerHTML = "06";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 6);
document.getElementById("text").value = ftt;

} else
if (rounded > 91 && rounded < 105) {
document.getElementById("shift").innerHTML = "07";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 7);
document.getElementById("text").value = ftt;

} else
if (rounded > 105 && rounded < 119) {
document.getElementById("shift").innerHTML = "08";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 8);
document.getElementById("text").value = ftt;

} else
if (rounded > 119 && rounded < 133) {
document.getElementById("shift").innerHTML = "09";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 9);
document.getElementById("text").value = ftt;

} else
if (rounded > 133 && rounded < 147) {
document.getElementById("shift").innerHTML = "10";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 10);
document.getElementById("text").value = ftt;

} else
if (rounded > 147 && rounded < 161) {
document.getElementById("shift").innerHTML = "11";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 11);
document.getElementById("text").value = ftt;

} else
if (rounded > 161 && rounded < 175) {
document.getElementById("shift").innerHTML = "12";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 12);
document.getElementById("text").value = ftt;

} else
if (rounded > 175 && rounded < 189) {
document.getElementById("shift").innerHTML = "13";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 13);
document.getElementById("text").value = ftt;

} else
if (rounded > 189 && rounded < 203) {
document.getElementById("shift").innerHTML = "14";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 14);
document.getElementById("text").value = ftt;

} else
if (rounded > 203 && rounded < 217) {
document.getElementById("shift").innerHTML = "15";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 15);
document.getElementById("text").value = ftt;

} else
if (rounded > 217 && rounded < 231) {
document.getElementById("shift").innerHTML = "16";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 16);
document.getElementById("text").value = ftt;

} else
if (rounded > 231 && rounded < 245) {
document.getElementById("shift").innerHTML = "17";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 17);
document.getElementById("text").value = ftt;

} else
if (rounded > 245 && rounded < 259) {
document.getElementById("shift").innerHTML = "18";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 18);
document.getElementById("text").value = ftt;

} else
if (rounded > 259 && rounded < 273) {
document.getElementById("shift").innerHTML = "19";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 19);
document.getElementById("text").value = ftt;

} else
if (rounded > 273 && rounded < 287) {
document.getElementById("shift").innerHTML = "20";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 20);
document.getElementById("text").value = ftt;

} else
if (rounded > 287 && rounded < 301) {
document.getElementById("shift").innerHTML = "21";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 21);
document.getElementById("text").value = ftt;

} else
if (rounded > 301 && rounded < 315) {
document.getElementById("shift").innerHTML = "22";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 22);
document.getElementById("text").value = ftt;

} else
if (rounded > 315 && rounded < 329) {
document.getElementById("shift").innerHTML = "23";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 23);
document.getElementById("text").value = ftt;

} else
if (rounded > 329 && rounded < 343) {
document.getElementById("shift").innerHTML = "24";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 24);
document.getElementById("text").value = ftt;

} else
if (rounded > 343 && rounded < 357) {
document.getElementById("shift").innerHTML = "25";
var ggg = document.getElementById("text").value;
var ftt = encrypt(ggg, 25);
document.getElementById("text").value = ftt;

} else
if (rounded > 357) {

document.getElementById("shift").innerHTML = "00";
}}
</script>

<script>
function should_i_go_now_getrot() {
var hhh = ThrowPropsPlugin.getVelocity(yourID, "rotation")

    if(hhh == 0) 
    {
        decode(); getrot();
       
    var rom = document.getElementById("shift").innerHTML;

if (rom < 1) {decon();}
if (rom > 00) {decoff();}
    
    
    } 
    
    else { 
        setTimeout(function(){
            should_i_go_now_getrot();
        },30);
    }
}
setTimeout(function(){
    should_i_go_now_getrot();
},30);
</script>

<script>
function rotdial(){
var yourDraggable = Draggable.get("#yourID");
var shiftnow = document.getElementById("shift").innerHTML;
if (shiftnow < 25){
shiftnow = parseFloat(shiftnow) + 1;
} else {shiftnow = 0};


var rotdialnew = shiftnow * 13.8461538;
//set the rotation to whatever you want.
//TweenLite.set("#yourID", {rotation:rotdialnew});

TweenMax.to("#yourID", 0.5, {rotation:rotdialnew, ease: Bounce.easeOut});
//tell the Draggable to calibrate/synchronize/read the current value
yourDraggable.update();
setTimeout(should_i_go_now_getrot,30);

}

function rotdialminus(){
var yourDraggable = Draggable.get("#yourID");
var shiftnow = document.getElementById("shift").innerHTML;
if (shiftnow > 0){
shiftnow = parseFloat(shiftnow) - 1;
} else {shiftnow = 25};


var rotdialnew = shiftnow * 13.8461538;
//set the rotation to whatever you want.
//TweenLite.set("#yourID", {rotation:rotdialnew});

TweenMax.to("#yourID", 0.5, {rotation:rotdialnew, ease: Bounce.easeOut});
//tell the Draggable to calibrate/synchronize/read the current value
yourDraggable.update();
setTimeout(should_i_go_now_getrot,30);

}


</script>

<script>
function resetdial(){
var yourDraggable = Draggable.get("#yourID");
var boing = document.getElementById("shift").innerHTML;
var boingcalc = 1.25 + (boing * 0.15);

//set the rotation to whatever you want.
TweenLite.to("#yourID", boingcalc, {rotation:0, ease: Bounce.easeOut});

//tell the Draggable to calibrate/synchronize/read the current value
yourDraggable.update();

document.getElementById("shift").innerHTML = "00";

document.getElementById("myText").innerHTML =  "000" + "&#176;";
}
</script>



<script>
function forcedial(){
var yourDraggable = Draggable.get("#yourID");
var boing = document.getElementById("shift").innerHTML;
var boingcalc = 1.25 + (boing * 0.15);

var goop = (boing * 13.8461538);


//set the rotation to whatever you want.
TweenLite.to("#yourID", boingcalc, {rotation:goop, ease: Bounce.easeOut});

//tell the Draggable to calibrate/synchronize/read the current value
yourDraggable.update();


}
</script>

<P style= "position:absolute; left:41.6%; top:33%; font-size:140%; font-weight:bold;color:red;z-index:101;"><span id="myText" style= "padding:2px 5px 0px 5px;border-radius: 10px; border: 3px solid #000;">000&#176;</span></p>

<P style= "position:absolute; left:42.6%; top:27.6%; color:green; font-size:150%; font-weight:bold; z-index:101;">SPIN</p>

<P style= "position:absolute; left:42.2%; top:45.4%; font-size:140%; font-weight:bold;color:red;z-index:101;"><span id="shift" style= "padding: 2px 16px 0px 16px; border-radius: 10px; border: 0px solid #000;">00</span></p>

<P style= "position:absolute; left:40.6%; top:50.1%; font-size:150%; font-weight:bold; color:green; z-index:100;">SHIFT</p>

<P style= "position:absolute; width:100%; text-align:center; top:76.5%; font-size:120%; font-weight:bold;">&#8681; Enter text &#8681;</p>

<P style= "width:100%; text-align:center; position:absolute; top:0%; font-size:140%; font-weight:bold;"><span style= "border-radius: 15px; padding: 2px 0 0 0; border: 3px solid #000;">&nbsp;CAESAR CIPHER DECODER&nbsp;</span></p>

<button id="dec" style= "border-radius: 15px; border: 3px solid #000; position:absolute; right:2.2%; top:70.7%; width:18.5%; height:12%; z-index:101;" onclick="decode(); resetdial(); decon();"></button>

<script>
function ddd(){
var yourDraggable = Draggable.get("#yourID");
var boing = document.getElementById("shift").innerHTML;
var boingcalc = 1.25 + (boing * 0.15);


var timer = boingcalc * 1100;
setTimeout(getrot, timer);
setTimeout(decode2, timer);
}

</script>


<button id="breaky" value="Break code" style= "border-radius: 15px; border: 3px solid #000; position:absolute; left:2.0666%; top:70.7%; width:18.5%; height:12%; z-index:101;" onclick="setTimeout(breaktoggle,30);setTimeout(forcedial, 10);setTimeout(ddd, 0);doBreak();"></button>

<label id="declabel" style= "position:absolute; right:5.6%; top:74.5%; font-size:12px; font-weight:bold;">Decode</label>

<label id="breakylabel" style= "position:absolute; left:6.7%; top:74.5%; font-size:12px; font-weight:bold;">Crack</label>

<label id="pluslabel" style= "position:absolute; left:61%; top:48.4%; font-size:44px; font-weight:bold;z-index:999;" onclick= "rotdial();">+</label>

<label id="pluslabel" style= "position:absolute; right:62%; top:48.4%; font-size:54px; font-weight:bold;z-index:999;" onclick= "rotdialminus();">-</label>

<textarea type="text" id="text" onblur="this.value = (this.value == '' ? 'This is a sample of plaintext' : this.value);"
					onclick="this.value=(this.value == 'This is a sample of plaintext' ? '' : this.value);"
							onfocus="this.select()" value="This is a sample of plaintext" style= "border-radius: 15px; border: 3px solid #000; position:absolute; left:2.06666%; top:84%; width:92.2%; height:12.8%; color:red; font-size:118%;padding:4px;">This is a sample of plaintext</textarea>
</body>
</html>